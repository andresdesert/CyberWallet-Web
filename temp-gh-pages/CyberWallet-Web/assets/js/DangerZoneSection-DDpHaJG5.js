import{u as r,j as a,B as o,f as i,v as e,h as s,N as n,O as t,Q as l,U as c,e as d}from"./chunk-CiyIQ443.js";import{r as m}from"./chunk-BP8el2rJ.js";import{a5 as _,a6 as u}from"./chunk-B1leO6dY.js";import{b as h,a as j}from"./index-B7Z_1TZN.js";import{a as g}from"./chunk-Dt-y-CW8.js";import{u as x}from"./chunk-BMGpP_Cr.js";import{m as f}from"./chunk-mLFKww0r.js";import"./chunk-BW7e_yWW.js";const p=()=>{const p=r(),{enqueueSnackbar:k}=h(),{logout:b}=j(),{t:v}=x("landing"),[z,y]=m.useState(""),[C,I]=m.useState(!1),[S,A]=m.useState(!1);return a.jsx(f.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.4},children:a.jsxs(o,{sx:{border:`1px solid ${p.palette.error.main}`,borderRadius:2,p:3,backgroundColor:"dark"===p.palette.mode?p.palette.error.dark:p.palette.error.light},children:[a.jsxs(i,{variant:"h6",fontWeight:600,color:"error",gutterBottom:!0,children:[a.jsx(_,{sx:{verticalAlign:"middle",mr:1}}),v("zona_riesgo")]}),a.jsx(i,{variant:"body2",mb:2,children:v("zona_riesgo_desc")}),a.jsx(e,{fullWidth:!0,variant:"outlined",label:v("zona_riesgo_confirmar"),value:z,onChange:r=>y(r.target.value),sx:{mb:2}}),a.jsx(s,{variant:"contained",color:"error",startIcon:a.jsx(u,{}),disabled:"ELIMINAR"!==z,onClick:()=>{"ELIMINAR"===z?A(!0):k(v("zona_riesgo_info"),{variant:"info"})},children:v("zona_riesgo_boton")}),a.jsxs(n,{open:S,onClose:()=>A(!1),children:[a.jsx(t,{children:v("zona_riesgo_confirmar_dialog_title")}),a.jsx(l,{children:v("zona_riesgo_confirmar_dialog_desc")}),a.jsxs(c,{children:[a.jsx(s,{onClick:()=>A(!1),disabled:C,children:v("zona_riesgo_confirmar_dialog_cancelar")}),a.jsx(s,{onClick:async()=>{I(!0);try{await g.delete("/user/profile"),k(v("zona_riesgo_exito"),{variant:"success"}),b()}catch(r){const a=r;k(a?.response?.data?.detail||"Error al eliminar la cuenta",{variant:"error"})}finally{I(!1),A(!1)}},color:"error",disabled:C,startIcon:C?a.jsx(d,{size:20,color:"inherit"}):a.jsx(u,{}),children:v(C?"zona_riesgo_confirmar_dialog_eliminando":"zona_riesgo_confirmar_dialog_confirmar")})]})]})]})})};export{p as default};
