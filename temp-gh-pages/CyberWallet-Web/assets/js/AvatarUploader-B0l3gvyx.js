import{u as e,j as a,B as o,f as r,A as s,I as t,e as i,X as n}from"./chunk-CiyIQ443.js";import{r as l}from"./chunk-BP8el2rJ.js";import{x as d}from"./chunk-B1leO6dY.js";import{m as p}from"./chunk-mLFKww0r.js";const c=["image/jpeg","image/png","image/jpg"],g=()=>{const g=e(),m=l.useRef(null),[u,h]=l.useState(null),[f,x]=l.useState(!1),[j,v]=l.useState({open:!1,message:""});return a.jsxs(o,{display:"flex",flexDirection:"column",alignItems:"center",gap:2,children:[a.jsx(r,{variant:"h6",fontWeight:600,children:"Foto de Perfil"}),a.jsx(p.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",stiffness:260,damping:20},children:a.jsx(s,{src:u||"/default-avatar.png",alt:"Avatar preview",sx:{width:120,height:120,boxShadow:g.shadows[4]}})},u||"default"),a.jsx(t,{color:"primary",onClick:()=>{m.current?.click()},sx:{backgroundColor:g.palette.background.paper,border:`1px solid ${g.palette.divider}`,boxShadow:g.shadows[2],"&:hover":{backgroundColor:g.palette.action.hover}},children:a.jsx(d,{})}),a.jsx("input",{type:"file",ref:m,accept:"image/jpeg,image/png,image/jpg",onChange:e=>{const a=e.target.files?.[0];if(!a)return;if(!c.includes(a.type))return void v({open:!0,message:"Formato inválido. Solo JPG o PNG.",error:!0});if(a.size>2097152)return void v({open:!0,message:"Archivo demasiado grande. Máximo 2MB.",error:!0});const o=new FileReader;x(!0),o.onloadend=()=>{h(o.result),x(!1),v({open:!0,message:"Avatar cargado (mock).",error:!1})},o.readAsDataURL(a)},hidden:!0}),f&&a.jsx(i,{size:28,color:"secondary"}),a.jsx(n,{open:j.open,autoHideDuration:3e3,onClose:()=>v({...j,open:!1}),message:j.message,ContentProps:{sx:j.error?{backgroundColor:g.palette.error.main}:{}}})]})};export{g as default};
