import{w as r,j as o,k as a,S as i,Q as e,r as s,F as t,D as n,G as l,O as c}from"./index-CAkMPucN.js";import{a as d}from"./axiosInstance-fZgyMyda.js";import{u as m}from"./useTranslation-AM22nTX-.js";import{T as j}from"./TextField-I4fxrPOr.js";import{B as p}from"./Button-BXsVoJ5T.js";import{D as _,a as h,b as g,c as x}from"./DialogTitle-ByEE1fuE.js";import"./Select-BRxYfMSs.js";import"./useFormControl-CyOgmSPV.js";import"./List-CGGHAjoq.js";import"./isHostComponent-DS5evmks.js";import"./Paper-DiZFp9lZ.js";import"./mergeSlotProps-CeDtsuiT.js";const u=r(o.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zm2.46-7.12 1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"})),f=r([o.jsx("path",{d:"M12 5.99 19.53 19H4.47zM12 2 1 21h22z"},"0"),o.jsx("path",{d:"M13 16h-2v2h2zm0-6h-2v5h2z"},"1")]),z=()=>{const r=a(),{enqueueSnackbar:z}=i(),{logout:v}=e(),{t:b}=m("landing"),[k,y]=s.useState(""),[C,M]=s.useState(!1),[I,L]=s.useState(!1);return o.jsx(t.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.4},children:o.jsxs(n,{sx:{border:`1px solid ${r.palette.error.main}`,borderRadius:2,p:3,backgroundColor:"dark"===r.palette.mode?r.palette.error.dark:r.palette.error.light},children:[o.jsxs(l,{variant:"h6",fontWeight:600,color:"error",gutterBottom:!0,children:[o.jsx(f,{sx:{verticalAlign:"middle",mr:1}}),b("zona_riesgo")]}),o.jsx(l,{variant:"body2",mb:2,children:b("zona_riesgo_desc")}),o.jsx(j,{fullWidth:!0,variant:"outlined",label:b("zona_riesgo_confirmar"),value:k,onChange:r=>y(r.target.value),sx:{mb:2}}),o.jsx(p,{variant:"contained",color:"error",startIcon:o.jsx(u,{}),disabled:"ELIMINAR"!==k,onClick:()=>{"ELIMINAR"===k?L(!0):z(b("zona_riesgo_info"),{variant:"info"})},children:b("zona_riesgo_boton")}),o.jsxs(_,{open:I,onClose:()=>L(!1),children:[o.jsx(h,{children:b("zona_riesgo_confirmar_dialog_title")}),o.jsx(g,{children:b("zona_riesgo_confirmar_dialog_desc")}),o.jsxs(x,{children:[o.jsx(p,{onClick:()=>L(!1),disabled:C,children:b("zona_riesgo_confirmar_dialog_cancelar")}),o.jsx(p,{onClick:async()=>{M(!0);try{await d.delete("/user/profile"),z(b("zona_riesgo_exito"),{variant:"success"}),v()}catch(r){const o=r;z(o?.response?.data?.detail||"Error al eliminar la cuenta",{variant:"error"})}finally{M(!1),L(!1)}},color:"error",disabled:C,startIcon:C?o.jsx(c,{size:20,color:"inherit"}):o.jsx(u,{}),children:b(C?"zona_riesgo_confirmar_dialog_eliminando":"zona_riesgo_confirmar_dialog_confirmar")})]})]})]})})};export{z as default};
