import{k as e,r as a,j as o,D as r,G as s,F as t,O as i}from"./index-CAkMPucN.js";import{P as n}from"./PhotoCamera-CjLgO_6H.js";import{A as l}from"./Avatar-c6ac4g8k.js";import{I as p}from"./IconButton-Dgo8PozH.js";import{S as d}from"./Snackbar-DpY5fRJ-.js";import"./Paper-DiZFp9lZ.js";const c=["image/jpeg","image/png","image/jpg"],m=()=>{const m=e(),g=a.useRef(null),[u,f]=a.useState(null),[j,x]=a.useState(!1),[h,v]=a.useState({open:!1,message:""});return o.jsxs(r,{display:"flex",flexDirection:"column",alignItems:"center",gap:2,children:[o.jsx(s,{variant:"h6",fontWeight:600,children:"Foto de Perfil"}),o.jsx(t.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",stiffness:260,damping:20},children:o.jsx(l,{src:u||"/default-avatar.png",alt:"Avatar preview",sx:{width:120,height:120,boxShadow:m.shadows[4]}})},u||"default"),o.jsx(p,{color:"primary",onClick:()=>{g.current?.click()},sx:{backgroundColor:m.palette.background.paper,border:`1px solid ${m.palette.divider}`,boxShadow:m.shadows[2],"&:hover":{backgroundColor:m.palette.action.hover}},children:o.jsx(n,{})}),o.jsx("input",{type:"file",ref:g,accept:"image/jpeg,image/png,image/jpg",onChange:e=>{const a=e.target.files?.[0];if(!a)return;if(!c.includes(a.type))return void v({open:!0,message:"Formato inválido. Solo JPG o PNG.",error:!0});if(a.size>2097152)return void v({open:!0,message:"Archivo demasiado grande. Máximo 2MB.",error:!0});const o=new FileReader;x(!0),o.onloadend=()=>{f(o.result),x(!1),v({open:!0,message:"Avatar cargado (mock).",error:!1})},o.readAsDataURL(a)},hidden:!0}),j&&o.jsx(i,{size:28,color:"secondary"}),o.jsx(d,{open:h.open,autoHideDuration:3e3,onClose:()=>v({...h,open:!1}),message:h.message,ContentProps:{sx:h.error?{backgroundColor:m.palette.error.main}:{}}})]})};export{m as default};
